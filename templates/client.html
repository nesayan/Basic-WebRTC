<!DOCTYPE html>
<html lang="en">
<head>
    <title>WebRTC</title>
    <!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

</head>
<body>

    <p>LOCAL STREAM</p>
    <video autoplay id="localStream" style="height: 200; width: 200;"></video>
    <P>REMOTE STREAM</P>
    <video autoplay id="remoteStream" style="height: 200; width: 200;"></video>
    <input type="button" id="btn_start" value="Start">
    <input type="button" disabled id="btn_close" value="Close">

    <!-- For bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <!-- For socket io 
    <script src="https://cdn.socket.io/3.1.1/socket.io.min.js" integrity="sha384-gDaozqUvc4HTgo8iZjwth73C6dDDeOJsAgpxBcMpZYztUfjHXpzrpdrHRdVp8ySO" crossorigin="anonymous"></script>
    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.min.js" integrity="sha512-aC5ZfKOuGRUiJCv+E/EIWsj49E02BQpuLQbixZe+16Lm1R6AepHZA1xvY92XBQNNbwQoqG4DXCGxwoxBFb5Q1A==" crossorigin="anonymous"></script>
    <!-- For using socketio and operations related webca -->
    <!-- <script type="text/javascript" src="../static/js/conn.js"></script> -->
    <script>
        $(document).ready(function() {
        var socket = io();
        console.log('Connecting to server');
        //console.log(location.protocol+'//'+document.domain+':'+location.port);
        let localStreamElement = document.getElementById("localStream");
        let remoteStreamElement = document.getElementById('remoteStream');
        var btn_start = document.getElementById("btn_start");
        var btn_close = document.getElementById("btn_close");
        
        let pc;
        var sender;
        var localStream = null;
        const PC_CONFIG = {
            iceServers: [    
                {
                    urls: 'stun:stun.l.google.com:19302'
                }
            ]
        };

        socket.on('connect', function () {
            console.log("Connected to server!");
        });

        socket.on('disconnect', function () {
            socket.disconnect();
            console.log("Disconnected to server!");
        });
        
    });
    </script>
    
</body>
</html>